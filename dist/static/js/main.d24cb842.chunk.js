(this["webpackJsonpbookini-client"]=this["webpackJsonpbookini-client"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),i=a.n(s),o=a(28),c=a.n(o),r=(a(80),a(8)),l=a(9),h=a(11),d=a(10),b=(a(81),a(13)),j=(a(82),a(17)),u=a(33),p=a.n(u),m=function e(){var t=this;Object(r.a)(this,e),this.signup=function(e){return t.service.post("/signup",{user:e})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a})},this.logout=function(){return t.service.post("/logout")},this.loggedin=function(){return console.group("The user is logged in"),t.service.get("/loggedin")};var a=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api"),withCredentials:!0});this.service=a},g=a(25),O=a(19),x=a(24),f=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).logoutUser=function(){(new m).logout().then((function(){e.props.setCurrentUser(null),localStorage.removeItem("loggedInUser")}))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.loggedInUser?Object(n.jsx)("div",{children:Object(n.jsxs)(g.a,{className:"bookish-navbar",sticky:"top",bg:"dark",variant:"dark",expand:"lg",children:[Object(n.jsxs)(g.a.Brand,{className:"bookish-logo",href:"/",children:["Bookish ",Object(n.jsx)("br",{}),Object(n.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"-11px"},children:"just books"})]}),Object(n.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(x.a,{className:"navbar-links",children:[Object(n.jsx)(x.a.Link,{href:"/addbook",children:"Add new book"}),Object(n.jsx)(x.a.Link,{href:"/profile/".concat(this.props.loggedInUser._id),children:"Profile"}),Object(n.jsx)(x.a.Link,{href:"/bookfeed",style:{color:"white"},children:"All Books"}),Object(n.jsx)(x.a.Link,{href:"/userfeed",style:{color:"white"},children:"All Bookshops"}),Object(n.jsx)(O.a,{variant:"outline-secondary",onClick:this.logoutUser,children:"Log Out"})]})})]})}):Object(n.jsx)("div",{children:Object(n.jsx)("nav",{children:Object(n.jsxs)(g.a,{className:"bookish-navbar",bg:"dark",variant:"dark",sticky:"top",expand:"lg",children:[Object(n.jsxs)(g.a.Brand,{className:"bookish-logo",href:"/",children:["Bookish",Object(n.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"-11px"},children:"just books"})]}),Object(n.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(x.a,{className:"navbar-links",children:[Object(n.jsx)(x.a.Link,{className:"google",href:"/login",children:"Login"}),Object(n.jsx)(x.a.Link,{className:"google",href:"/signup",children:"Signup"}),Object(n.jsx)(x.a.Link,{href:"/login-google",children:Object(n.jsx)("img",{style:{height:"50px"},alt:"book-cover",src:"../../images/google-logo.png"})})]})})]})})})}}]),a}(i.a.Component),v=a(34);var k=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{marginTop:"-2%"},children:Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(v.a.Item,{interval:3e3,children:[Object(n.jsx)("img",{width:300,height:400,className:"d-block w-100 slide-image",src:"../../images/allbooks.png",alt:"First slide"}),Object(n.jsxs)(v.a.Caption,{children:[Object(n.jsx)("h1",{children:"Our Books"}),Object(n.jsx)("p",{children:"Search for all the books that are currently being sold in our website!"}),Object(n.jsx)("a",{className:"links",href:"/bookfeed",children:"Click here"})]})]}),Object(n.jsxs)(v.a.Item,{interval:3e3,children:[Object(n.jsx)("img",{width:300,height:400,className:"d-block w-100",src:"../../images/libraries.jpg",alt:"Third slide"}),Object(n.jsxs)(v.a.Caption,{className:"carousel-caption",children:[Object(n.jsx)("h1",{children:"Our Bookshops"}),Object(n.jsx)("p",{children:"Search for all the libraries currently selling in our website!"}),Object(n.jsx)("a",{className:"links",href:"/userfeed",children:"Click here"})]})]})]})}),Object(n.jsx)("div",{}),Object(n.jsxs)("footer",{id:"footer",children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{style:{height:"10vw"},src:"../../images/sale.png",alt:"Sale-Offer"})}),Object(n.jsx)("div",{children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h4",{children:"Subscribe our Newsletter"}),Object(n.jsx)("input",{type:"email",placeholder:"enter your email",style:{border:"5px solid rgb(70, 69, 69)",borderRadius:"20px",outline:"none",width:"30vw",color:"black",textAlign:"center"}})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Contact us"}),Object(n.jsx)("p",{style:{fontSize:"12px"},children:" info@bookish.com"}),Object(n.jsx)("img",{style:{width:"10vw"},src:"../../images/media.png",alt:"socialmedia"})]})]})]})},y=a(12),C=a(14),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.password;(new m).login(n,s).then((function(t){e.props.setCurrentUser(t.data),e.props.history.push("/"),j.b.success("Login Successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){j.b.error("Invalid Login")}))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(n.jsx)("label",{children:"Username: "}),Object(n.jsx)("input",{className:"login-div",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{children:"Password: "}),Object(n.jsx)("input",{className:"login-div",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("button",{className:"login",children:"Login"})]}),Object(n.jsxs)("p",{style:{marginTop:"3px"},children:["Don't have account?",Object(n.jsx)(C.b,{to:"/signup",children:" Signup"})]})]})}}]),a}(i.a.Component),S=Object(b.f)(w),B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",name:"",city:"",isCompany:!1},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;"checkbox"===a.type&&(s=t.target.checked),e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault();var a=new m,n=e.state,s=n.username,i=n.password,o=n.name,c=n.isCompany,r=n.city;a.signup({username:s,password:i,name:o,isCompany:c,city:r}).then((function(){e.props.history.push("/")})).catch((function(e){console.log("error",e)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"div-sign-up",children:[Object(n.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleFormSubmit,children:[Object(n.jsx)("label",{children:"Username:"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{children:"Name:"}),Object(n.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(n.jsx)("label",{children:"Are you a Company?"}),Object(n.jsx)("input",{type:"checkbox",name:"isCompany",value:this.state.isCompany,onChange:this.handleChange}),Object(n.jsx)("label",{children:"City:"}),Object(n.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(n.jsx)("label",{children:"Password:"}),Object(n.jsx)("input",{name:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("input",{id:"btn-signup",type:"submit",value:"Signup"})]}),Object(n.jsxs)("p",{children:["Already have account?",Object(n.jsx)(C.b,{to:"/login",children:" Login"})]})]})}}]),a}(i.a.Component),N=Object(b.f)(B),I=a(54),U=function(){function e(){Object(r.a)(this,e);var t=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api"),withCredentials:!0});this.service=t}return Object(l.a)(e,[{key:"getBookByIsbn",value:function(e){return this.service.get("/books/".concat(e))}},{key:"getUser",value:function(e){return this.service.get("/books/db/allbookshops/".concat(e))}},{key:"addBook",value:function(e){return this.service.post("/books/associate",Object(I.a)({},e))}},{key:"getAllBooks",value:function(){return this.service.get("/books/db/allbooks")}},{key:"getAllBookshops",value:function(){return this.service.get("/books/db/allbookshops")}},{key:"editBook",value:function(e,t){return this.service.put("/books/editbook/".concat(e),{price:t})}},{key:"getBookById",value:function(e){return this.service.get("/books/editbook/".concat(e))}},{key:"deleteBook",value:function(e){return this.service.delete("/book/delete/".concat(e))}},{key:"updateUser",value:function(e){return this.service.put("/profile/".concat(e.id),Object(I.a)({},e))}}]),e}(),L=a(6),A=a(18),T=a(72),F=a(55),D=a(71),_=a(110),M=a(70),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={id:"",username:"",city:"",name:"",isCompany:!1,books:[],about:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault(),(new U).updateUser(e.state).then((function(e){j.b.success("Profile updated!")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getUser(a).then((function(t){console.log(t.data),e.setState({id:t.data._id,books:t.data.books,username:t.data.username,city:t.data.city,name:t.data.name,isCompany:t.data.isCompany,about:t.data.about})}))}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"div-profile-top",children:Object(n.jsxs)(F.a,{className:"container-profile-top",style:{width:"20rem"},children:[Object(n.jsx)(_.a,{className:"profile-image",children:Object(n.jsx)(M.a,{xs:6,md:4,children:Object(n.jsx)(D.a,{src:"https://www.kindpng.com/picc/m/495-4952535_create-digital-profile-icon-blue-user-profile-icon.png",width:"250",roundedCircle:!0})})}),Object(n.jsxs)("div",{className:"form-container",children:[Object(n.jsx)("h2",{style:{marginBottom:"40px"},children:"Welcome to your profile"}),Object(n.jsxs)(A.a,{children:[Object(n.jsxs)(A.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(n.jsx)(A.a.Label,{children:Object(n.jsx)("b",{children:" Username "})}),Object(n.jsx)(A.a.Control,{className:"form-profile",type:"text",name:"username",onChange:this.handleChange,value:this.state.username}),Object(n.jsx)(A.a.Label,{children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)(A.a.Control,{className:"form-profile",type:"email",name:"email",onChange:this.handleChange,value:this.state.name}),Object(n.jsx)(A.a.Label,{children:Object(n.jsx)("b",{children:"City"})}),Object(n.jsx)(A.a.Control,{className:"form-profile",type:"email",name:"city",value:this.state.city,onChange:this.handleChange})]}),Object(n.jsxs)(A.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(n.jsx)(A.a.Label,{children:Object(n.jsx)("b",{children:"About"})}),Object(n.jsx)(A.a.Control,{className:"form-profile",as:"textarea",name:"about",onChange:this.handleChange,rows:3,value:this.state.about})]}),Object(n.jsx)(O.a,{variant:"light",onClick:this.handleFormSubmit,children:"Submit"})]})]})]})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{style:{marginTop:"50px"},children:[" ","You're currently selling these books"]}),Object(n.jsx)(F.a,{children:Object(n.jsx)(T.a,{children:Object(n.jsx)("div",{className:"books-wrapper",children:this.state.books.map((function(e,t){return Object(n.jsxs)(L.a,{className:"allbooks",children:[Object(n.jsx)(L.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}}),Object(n.jsxs)(L.a.Body,{children:[Object(n.jsx)(L.a.Title,{children:Object(n.jsx)(C.b,{to:"/editbook/".concat(e._id),children:Object(n.jsx)(O.a,{variant:"dark",children:"Edit Book"})})}),Object(n.jsxs)(L.a.Text,{children:["\u20ac",e.price,".00"]})]})]})}))})})})]})]})})}}]),a}(i.a.Component),G=a(56),H=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={books:[],search:"",filteredBooks:[]},e.handleChange=function(t){e.setState({search:t.target.value});var a=t.target.value;if(a){var n=Object(G.a)(e.state.books).filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())}));e.setState({filteredBooks:n})}else e.setState({filteredBooks:Object(G.a)(e.state.books)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBooks().then((function(t){console.log(t),e.setState({books:t.data,filteredBooks:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{}),Object(n.jsx)("input",{className:"search-bar",placeholder:"Search for your book",type:"text",name:"search",onChange:this.handleChange,value:this.state.search})]}),Object(n.jsx)(F.a,{children:Object(n.jsx)(T.a,{children:Object(n.jsx)("div",{className:"books-wrapper",children:this.state.filteredBooks.map((function(e,t){return Object(n.jsx)(L.a,{className:"allbooks",children:Object(n.jsxs)(C.b,{to:"/books/".concat(e.ISBN),children:[" ",Object(n.jsx)(L.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})]})},t)}))})})})]})}}]),a}(i.a.Component),R=a(44),z=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={booksshops:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBookshops().then((function(t){e.setState({booksshops:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:" Get to know all of our Bookshops "}),Object(n.jsx)(R.a,{className:"cards-from-allbookshops",children:this.state.booksshops.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(L.a,{style:{width:"15rem",height:"25rem"},children:[Object(n.jsx)(L.a.Img,{variant:"top",src:"../../images/shelf.jpeg"}),Object(n.jsxs)(L.a.Body,{style:{backgroundColor:"rgb(70, 69, 69)"},children:[Object(n.jsx)(L.a.Title,{children:Object(n.jsx)("h4",{style:{color:"white"},children:e.name})}),Object(n.jsx)(L.a.Text,{style:{color:"white"},children:e.about}),Object(n.jsx)("small",{className:"text-muted",children:Object(n.jsx)("strong",{style:{color:"white"},children:e.city})})]})]}),Object(n.jsx)(C.b,{to:"/allbookshops/".concat(e._id),children:Object(n.jsx)(O.a,{variant:"dark",style:{marginBottom:"40px",marginTop:"3px"},children:"View Book Shop"})})]},t)}))})]})}}]),a}(i.a.Component),W=function(){function e(){Object(r.a)(this,e);var t=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api")});this.service=t}return Object(l.a)(e,[{key:"getBookByIsbn",value:function(e){return this.service.get("/books/".concat(e))}},{key:"getBookDetails",value:function(e){return this.service.get("/books/".concat(e,"/details"))}},{key:"addBook",value:function(e){return this.service.post("/books",e)}},{key:"deleteBook",value:function(e){return this.service.delete("/books/".concat(e))}},{key:"editBook",value:function(e){return this.service.put("/books/".concat(e.ISBN),e)}}]),e}(),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isbn:"",books:[]},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault(),(new W).getBookByIsbn(e.state.isbn).then((function(){e.props.history.push("/bookfound/".concat(e.state.isbn))})).catch((function(){Object(j.b)("Ups! Something went wrong")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBooks().then((function(t){console.log(t),e.setState({books:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(n.jsx)("input",{className:"addbook-form",type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,placeholder:"Find a book by ISBN"}),Object(n.jsx)("br",{}),Object(n.jsxs)(O.a,{onClick:this.handleFormSubmit,className:"search-button-addbook",variant:"danger",children:[" ","Search"," "]})]}),Object(n.jsxs)(F.a,{className:"container-addbook",children:[Object(n.jsx)("h2",{children:"Latest in Bookish"}),Object(n.jsx)(T.a,{children:Object(n.jsx)("div",{className:"books-wrapper",children:this.state.books.slice(this.state.books.length-4,this.state.books.length).map((function(e,t){return Object(n.jsx)(L.a,{className:"allbooks",children:Object(n.jsxs)(C.b,{to:"/books/".concat(e.ISBN),children:[" ",Object(n.jsx)(L.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})]})})}))})})]})]})}}]),a}(i.a.Component),J=Object(b.f)(E),V=a(45),Y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={book:[],price:"",isUsed:!1},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;"checkbox"===a.type&&(s=t.target.checked),e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault();var a=new U,n=e.state.book,s=n.title,i=n.author,o=n.description,c=n.published,r=n.publisher,l=n.language,h=n.image,d=n.isbn,b=e.state,u=b.price,p=b.isUsed;a.addBook({title:s,author:i,description:o,published:c,publisher:r,language:l,image:h,isUsed:p,isbn:d,price:u}).then((function(){e.props.history.push("/profile/".concat(e.props.loggedInUser._id)),j.b.success("Login Successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){Object(j.b)("Ups! Something went wrong")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new W).getBookByIsbn(this.props.match.params.isbn).then((function(t){e.setState({book:t.data})}))}},{key:"render",value:function(){var e;return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(n.jsxs)("h1",{style:{marginBottom:"3rem",backgroundColor:"rgb(234,236,239)",padding:"20px",width:"100vw",height:"10rem",boxShadow:"5px 5px darkGray "},children:[" ",Object(n.jsx)("b",{children:" Is this the book?"})]}),Object(n.jsxs)(L.a,{bg:"secondary",text:"white",style:{width:"60vw"},children:[Object(n.jsxs)(L.a.Header,{style:{fontSize:"2rem",marginTop:"2rem",fontWeight:"bold"},children:[this.state.book.title," ",Object(n.jsx)("br",{}),Object(n.jsx)("img",{src:this.state.book.image,alt:"book-cover",style:{marginTop:"2rem",objectFit:"fill !important",width:"30vw"}})]}),Object(n.jsxs)(L.a.Body,{children:[Object(n.jsx)(L.a.Text,{style:{textAlign:"justify"},dangerouslySetInnerHTML:{__html:this.state.book.description}}),Object(n.jsx)(L.a.Text,{children:Object(n.jsxs)(V.a,{style:{color:"black",marginTop:"10px",marginBottom:"30px"},children:[Object(n.jsxs)("footer",{children:["Published by ",this.state.book.publisher]}),Object(n.jsx)(L.a.Footer,{className:"text-muted",children:Object(n.jsxs)("p",{style:{color:"white"},children:["ISBN ",this.state.book.isbn]})})]})}),Object(n.jsxs)("form",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},onSubmit:this.handleFormSubmit,children:[Object(n.jsxs)(A.a.Group,{controlId:"formBasicRange",children:[Object(n.jsx)(A.a.Label,{children:"Price \u20ac"}),Object(n.jsx)(A.a.Check,(e={type:"range"},Object(y.a)(e,"type","number"),Object(y.a)(e,"name","price"),Object(y.a)(e,"onChange",this.handleChange),Object(y.a)(e,"value",this.state.price),e))]}),Object(n.jsx)(A.a.Group,{id:"formGridCheckbox",children:Object(n.jsx)(A.a.Check,{type:"checkbox",name:"isUsed",label:"Used",onChange:this.handleChange,value:this.state.isUsed})}),Object(n.jsx)(O.a,{onClick:this.handleFormSubmit,variant:"dark",style:{width:"30%",margin:"0 auto",display:"block"},children:"Add Book"})]})]})]}),Object(n.jsx)("br",{})]})}}]),a}(i.a.Component),q=Object(b.f)(Y),K=a(73),Q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={title:"",author:"",publisher:"",published:"",isbn:"",language:"",image:"",description:"",price:"",isUsed:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new W,a=this.props.match.params.isbn;t.getBookByIsbn(a).then((function(n){e.setState({title:n.data.title,author:n.data.author,publisher:n.data.publisher,published:n.data.published,isbn:n.data.isbn,language:n.data.language,image:n.data.image,description:n.data.description}),t.getBookDetails(a).then((function(t){var a=t.data[0];e.setState({price:a.price,isUsed:a.isUsed})}))}))}},{key:"render",value:function(){return this.state.price?Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1rem",backgroundColor:"rgb(234,236,239)",padding:"20px",width:"100vw",height:"13rem",boxShadow:"5px 5px darkGray ",justifyContent:"center"},children:[Object(n.jsx)("h1",{children:this.state.title}),Object(n.jsxs)("h5",{style:{marginBottom:"2rem",padding:"10px",width:"30vw"},children:["From ",this.state.author]})]}),Object(n.jsxs)(L.a,{bg:"secondary",text:"white",style:{width:"60vw"},children:[Object(n.jsx)(L.a.Header,{style:{fontSize:"2rem",marginTop:"1rem",fontWeight:"bold"},children:Object(n.jsx)("img",{src:this.state.image,alt:"book-cover",style:{marginTop:"2rem",objectFit:"fill !important",width:"30vw"}})}),Object(n.jsxs)(L.a.Body,{children:[Object(n.jsx)(L.a.Text,{style:{textAlign:"justify"},dangerouslySetInnerHTML:{__html:this.state.description}}),Object(n.jsx)(L.a.Text,{children:Object(n.jsxs)(V.a,{style:{color:"black",marginTop:"10px",marginBottom:"20px"},children:[Object(n.jsxs)("footer",{children:["Published by ",this.state.publisher]}),Object(n.jsx)(L.a.Footer,{className:"text-muted",children:Object(n.jsxs)("p",{style:{color:"white"},children:[" ISBN ",this.state.isbn]})})]})}),Object(n.jsx)("button",{class:"snipcart-add-item1","data-item-id":this.state.isbn,"data-item-price":this.state.price,"data-item-url":"/books/".concat(this.state.isbn),"data-item-description":this.state.description,"data-item-image":this.state.image,"data-item-name":this.state.title,children:Object(n.jsx)("p",{children:"Add to Cart"})})]})]}),Object(n.jsx)("br",{})]}):Object(n.jsx)(K.a,{animation:"border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}}]),a}(i.a.Component),X=Object(b.f)(Q),Z=a(74),$=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={id:"",username:"",city:"",name:"",isCompany:!1,books:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getUser(a).then((function(t){console.log(t.data),e.setState({id:t.data._id,books:t.data.books,username:t.data.username,city:t.data.city,name:t.data.name,isCompany:t.data.isCompany})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Z.a,{fluid:!0,className:"jumbotron-bookdetails",children:Object(n.jsxs)(F.a,{children:[Object(n.jsxs)("h1",{children:["Welcome to the bookshop ",this.state.name]}),Object(n.jsxs)("h5",{children:["Located in: ",this.state.city]}),Object(n.jsx)("h5",{children:" Heres a list of the available books"})]})}),Object(n.jsx)(F.a,{children:Object(n.jsx)(R.a,{style:{marginLeft:"3vw"},children:this.state.books.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(L.a,{className:"allbooks",children:Object(n.jsx)(C.b,{to:"/books/".concat(e.ISBN),children:Object(n.jsx)(L.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{bg:"dark",class:"snipcart-add-item","data-item-id":e.ISBN,"data-item-price":e.price,"data-item-url":"/books/".concat(e.ISBN),"data-item-description":e.description,"data-item-image":e.image,"data-item-name":e.title,style:{marginTop:"3px"},children:"Add to cart"})})]},t)}))})})]})}}]),a}(i.a.Component),ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={price:"",isUsed:"",title:"",image:"",isbn:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(y.a)({},n,s))},e.handleFormSubmit=function(t){t.preventDefault();var a=new U,n=e.state.price,s=e.props.match.params.id;a.editBook(s,n).then((function(){j.b.success("Price updated!"),e.props.history.push("/profile/".concat(e.props.loggedInUser._id))})).catch((function(){Object(j.b)("Ups! Something went wrong")}))},e.handleBookDelete=function(t){(new U).deleteBook(t).then((function(){j.b.warning("Book Deleted"),e.props.history.push("./")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getBookById(a).then((function(t){e.setState({title:t.data.title,isbn:t.data.isbn,image:t.data.image,price:t.data.price,isUsed:t.data.isUsed})}))}},{key:"render",value:function(){var e,t=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:" Edit your book"}),Object(n.jsxs)("div",{className:"edit-book-container",children:[Object(n.jsx)("div",{children:Object(n.jsx)(L.a,{style:{width:"20rem",height:"fit-content",maxHeight:"33rem",maxWidth:"22rem",boxShadow:"5px 5px #888888"},className:"allbooks",children:Object(n.jsx)(L.a.Img,{variant:"top",src:this.state.image,style:{height:"32.2rem",maxHeight:"32.2rem"}})})}),Object(n.jsxs)("div",{className:"form-edit-book",children:[Object(n.jsxs)(A.a,{onSubmit:this.handleFormSubmit,children:[Object(n.jsx)("h3",{children:" Edit price "}),Object(n.jsxs)(A.a.Group,{controlId:"formBasicRange",className:"edit-book-form",children:[Object(n.jsx)(A.a.Control,(e={type:"range",className:"price-box"},Object(y.a)(e,"type","number"),Object(y.a)(e,"name","price"),Object(y.a)(e,"onChange",this.handleChange),Object(y.a)(e,"value",this.state.price),e)),Object(n.jsx)(O.a,{onClick:this.handleFormSubmit,variant:"dark",style:{width:"18vw"},children:"Save"})]})]}),Object(n.jsx)(O.a,{style:{width:"18vw"},variant:"danger",onClick:function(){return t.handleBookDelete(t.props.match.params.id)},children:"Delete"})]})]})]})}}]),a}(i.a.Component),te=Object(b.f)(ee),ae=(a(106),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data._id)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(f,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{exact:!0,path:"/",component:k}),Object(n.jsx)(b.a,{path:"/login",render:function(){return Object(n.jsx)(S,{setCurrentUser:e.setCurrentUser})}}),Object(n.jsx)(b.a,{exact:!0,path:"/signup",component:N}),Object(n.jsx)(b.a,{exact:!0,path:"/profile/:id",component:P}),Object(n.jsx)(b.a,{exact:!0,path:"/bookfeed",component:H}),Object(n.jsx)(b.a,{exact:!0,path:"/userfeed",component:z}),Object(n.jsx)(b.a,{exact:!0,path:"/addbook",component:J}),Object(n.jsx)(b.a,{exact:!0,path:"/books/:isbn",component:X}),Object(n.jsx)(b.a,{exact:!0,path:"/editbook/:id",component:te}),Object(n.jsx)(b.a,{exact:!0,path:"/bookfound/:isbn",render:function(){return Object(n.jsx)(q,{loggedInUser:e.state.loggedInUser})}}),Object(n.jsx)(b.a,{exact:!0,path:"/allbookshops/:id",component:$}),Object(n.jsx)(b.a,{path:"/login-google",render:function(){window.location.href="".concat("https://lebookish.herokuapp.com","/api/auth/google")}})]})]})}}]),a}(i.a.Component)),ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),i(e),o(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(C.a,{children:Object(n.jsx)(ae,{})})}),document.getElementById("root")),ne()},80:function(e,t,a){},81:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.d24cb842.chunk.js.map