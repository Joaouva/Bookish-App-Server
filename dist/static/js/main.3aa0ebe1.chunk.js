(this["webpackJsonpbookini-client"]=this["webpackJsonpbookini-client"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),i=a.n(n),o=a(28),c=a.n(o),r=(a(80),a(8)),l=a(9),h=a(11),d=a(10),b=(a(81),a(13)),j=(a(82),a(19)),u=a(33),p=a.n(u),m=function e(){var t=this;Object(r.a)(this,e),this.signup=function(e){return t.service.post("/signup",{user:e})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a})},this.logout=function(){return t.service.post("/logout")},this.loggedin=function(){return console.group("The user is logged in"),t.service.get("/loggedin")};var a=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api"),withCredentials:!0});this.service=a},g=a(25),O=a(18),x=a(24),v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).logoutUser=function(){(new m).logout().then((function(){e.props.setCurrentUser(null),localStorage.removeItem("loggedInUser")}))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.loggedInUser?Object(s.jsx)("div",{children:Object(s.jsxs)(g.a,{className:"bookish-navbar",sticky:"top",bg:"dark",variant:"dark",expand:"lg",children:[Object(s.jsxs)(g.a.Brand,{className:"bookish-logo",href:"/",children:["Bookish ",Object(s.jsx)("br",{}),Object(s.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"-11px"},children:"just books"})]}),Object(s.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(s.jsxs)(x.a,{className:"navbar-links",children:[Object(s.jsx)(x.a.Link,{href:"/addbook",children:"Add new book"}),Object(s.jsx)(x.a.Link,{href:"/profile/".concat(this.props.loggedInUser._id),children:"Profile"}),Object(s.jsx)(x.a.Link,{href:"/bookfeed",style:{color:"white"},children:"All Books"}),Object(s.jsx)(x.a.Link,{href:"/userfeed",style:{color:"white"},children:"All Bookshops"}),Object(s.jsx)(O.a,{variant:"outline-secondary",onClick:this.logoutUser,children:"Log Out"})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsx)("nav",{children:Object(s.jsxs)(g.a,{className:"bookish-navbar",bg:"dark",variant:"dark",sticky:"top",expand:"lg",children:[Object(s.jsxs)(g.a.Brand,{className:"bookish-logo",href:"/",children:["Bookish",Object(s.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"-11px"},children:"just books"})]}),Object(s.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(s.jsxs)(x.a,{className:"navbar-links",children:[Object(s.jsx)(x.a.Link,{className:"google",href:"/login",children:"Login"}),Object(s.jsx)(x.a.Link,{className:"google",href:"/signup",children:"Signup"}),Object(s.jsx)(x.a.Link,{href:"/login-google",children:Object(s.jsx)("img",{style:{height:"50px"},alt:"book-cover",src:"../../images/google-logo.png"})})]})})]})})})}}]),a}(i.a.Component),f=a(34);var k=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{marginTop:"-2%"},children:Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(f.a.Item,{interval:3e3,children:[Object(s.jsx)("img",{width:300,height:400,className:"d-block w-100 slide-image",src:"../../images/allbooks.png",alt:"First slide"}),Object(s.jsxs)(f.a.Caption,{children:[Object(s.jsx)("h1",{children:"Our Books"}),Object(s.jsx)("p",{children:"Search for all the books that are currently being sold in our website!"}),Object(s.jsx)("a",{className:"links",href:"/bookfeed",children:"Click here"})]})]}),Object(s.jsxs)(f.a.Item,{interval:3e3,children:[Object(s.jsx)("img",{width:300,height:400,className:"d-block w-100",src:"../../images/libraries.jpg",alt:"Third slide"}),Object(s.jsxs)(f.a.Caption,{className:"carousel-caption",children:[Object(s.jsx)("h1",{children:"Our Bookshops"}),Object(s.jsx)("p",{children:"Search for all the libraries currently selling in our website!"}),Object(s.jsx)("a",{className:"links",href:"/userfeed",children:"Click here"})]})]})]})}),Object(s.jsx)("div",{}),Object(s.jsxs)("footer",{id:"footer",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("h4",{children:"Subscribe our Newsletter"}),Object(s.jsx)("input",{type:"email",placeholder:"enter your email",style:{border:"5px solid rgb(70, 69, 69)",borderRadius:"20px",outline:"none",width:"20vw",color:"black",textAlign:"center"}})]})}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"../../images/socialmedia.png",alt:"socialmedia",style:{width:"10rem",height:"3.5rem"}})}),Object(s.jsxs)("p",{style:{fontSize:"14px"},children:["\xa9 2020 Copyright Bookish ",Object(s.jsx)("br",{})," info@bookish.com"]})]})]})},y=a(12),C=a(14),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,s=a.username,n=a.password;(new m).login(s,n).then((function(t){e.props.setCurrentUser(t.data),e.props.history.push("/"),j.b.success("Login Successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){j.b.error("Invalid Login")}))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("label",{children:"Username: "}),Object(s.jsx)("input",{className:"login-div",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("input",{className:"login-div",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(s.jsx)("button",{className:"login",children:"Login"})]}),Object(s.jsxs)("p",{style:{marginTop:"3px"},children:["Don't have account?",Object(s.jsx)(C.b,{to:"/signup",children:" Signup"})]})]})}}]),a}(i.a.Component),B=Object(b.f)(w),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",name:"",city:"",isCompany:!1},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;"checkbox"===a.type&&(n=t.target.checked),e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault();var a=new m,s=e.state,n=s.username,i=s.password,o=s.name,c=s.isCompany,r=s.city;a.signup({username:n,password:i,name:o,isCompany:c,city:r}).then((function(){e.props.history.push("/")})).catch((function(e){console.log("error",e)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"div-sign-up",children:[Object(s.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("label",{children:"Username:"}),Object(s.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(s.jsx)("label",{children:"Name:"}),Object(s.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(s.jsx)("label",{children:"Are you a Company?"}),Object(s.jsx)("input",{type:"checkbox",name:"isCompany",value:this.state.isCompany,onChange:this.handleChange}),Object(s.jsx)("label",{children:"City:"}),Object(s.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(s.jsx)("label",{children:"Password:"}),Object(s.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(s.jsx)("input",{id:"btn-signup",type:"submit",value:"Signup"})]}),Object(s.jsxs)("p",{children:["Already have account?",Object(s.jsx)(C.b,{to:"/login",children:" Login"})]})]})}}]),a}(i.a.Component),N=Object(b.f)(S),I=a(54),U=function(){function e(){Object(r.a)(this,e);var t=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api"),withCredentials:!0});this.service=t}return Object(l.a)(e,[{key:"getBookByIsbn",value:function(e){return this.service.get("/books/".concat(e))}},{key:"getUser",value:function(e){return this.service.get("/books/db/allbookshops/".concat(e))}},{key:"addBook",value:function(e){return this.service.post("/books/associate",Object(I.a)({},e))}},{key:"getAllBooks",value:function(){return this.service.get("/books/db/allbooks")}},{key:"getAllBookshops",value:function(){return this.service.get("/books/db/allbookshops")}},{key:"editBook",value:function(e,t){return this.service.put("/books/editbook/".concat(e),{price:t})}},{key:"getBookById",value:function(e){return this.service.get("/books/editbook/".concat(e))}},{key:"deleteBook",value:function(e){return this.service.delete("/book/delete/".concat(e))}},{key:"updateUser",value:function(e){return this.service.put("/profile/".concat(e.id),Object(I.a)({},e))}}]),e}(),A=a(6),L=a(17),T=a(72),F=a(55),D=a(71),_=a(110),M=a(70),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={id:"",username:"",city:"",name:"",isCompany:!1,books:[],about:""},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault(),(new U).updateUser(e.state).then((function(e){j.b.success("Profile updated!")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getUser(a).then((function(t){console.log(t.data),e.setState({id:t.data._id,books:t.data.books,username:t.data.username,city:t.data.city,name:t.data.name,isCompany:t.data.isCompany,about:t.data.about})}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"div-profile-top",children:Object(s.jsxs)(F.a,{className:"container-profile-top",style:{width:"20rem"},children:[Object(s.jsx)(_.a,{className:"profile-image",children:Object(s.jsx)(M.a,{xs:6,md:4,children:Object(s.jsx)(D.a,{src:"https://www.kindpng.com/picc/m/495-4952535_create-digital-profile-icon-blue-user-profile-icon.png",width:"250",roundedCircle:!0})})}),Object(s.jsxs)("div",{className:"form-container",children:[Object(s.jsx)("h2",{style:{marginBottom:"40px"},children:"Welcome to your profile"}),Object(s.jsxs)(L.a,{children:[Object(s.jsxs)(L.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(s.jsx)(L.a.Label,{children:Object(s.jsx)("b",{children:" Username "})}),Object(s.jsx)(L.a.Control,{className:"form-profile",type:"text",name:"username",onChange:this.handleChange,value:this.state.username}),Object(s.jsx)(L.a.Label,{children:Object(s.jsx)("b",{children:"Name"})}),Object(s.jsx)(L.a.Control,{className:"form-profile",type:"email",name:"email",onChange:this.handleChange,value:this.state.name}),Object(s.jsx)(L.a.Label,{children:Object(s.jsx)("b",{children:"City"})}),Object(s.jsx)(L.a.Control,{className:"form-profile",type:"email",name:"city",value:this.state.city,onChange:this.handleChange})]}),Object(s.jsxs)(L.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(s.jsx)(L.a.Label,{children:Object(s.jsx)("b",{children:"About"})}),Object(s.jsx)(L.a.Control,{className:"form-profile",as:"textarea",name:"about",onChange:this.handleChange,rows:3,value:this.state.about})]}),Object(s.jsx)(O.a,{variant:"light",onClick:this.handleFormSubmit,children:"Submit"})]})]})]})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h2",{style:{marginTop:"50px"},children:[" ","You're currently selling these books"]}),Object(s.jsx)(F.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)("div",{className:"books-wrapper",children:this.state.books.map((function(e,t){return Object(s.jsxs)(A.a,{className:"allbooks",children:[Object(s.jsx)(A.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}}),Object(s.jsxs)(A.a.Body,{children:[Object(s.jsx)(A.a.Title,{children:Object(s.jsx)(C.b,{to:"/editbook/".concat(e._id),children:Object(s.jsx)(O.a,{variant:"dark",children:"Edit Book"})})}),Object(s.jsxs)(A.a.Text,{children:["\u20ac",e.price,".00"]})]})]})}))})})})]})]})})}}]),a}(i.a.Component),G=a(56),H=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={books:[],search:"",filteredBooks:[]},e.handleChange=function(t){e.setState({search:t.target.value});var a=t.target.value;if(a){var s=Object(G.a)(e.state.books).filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())}));e.setState({filteredBooks:s})}else e.setState({filteredBooks:Object(G.a)(e.state.books)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBooks().then((function(t){console.log(t),e.setState({books:t.data,filteredBooks:t.data})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{}),Object(s.jsx)("input",{className:"search-bar",placeholder:"Search for your book",type:"text",name:"search",onChange:this.handleChange,value:this.state.search})]}),Object(s.jsx)(F.a,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)("div",{className:"books-wrapper",children:this.state.filteredBooks.map((function(e,t){return Object(s.jsx)(A.a,{className:"allbooks",children:Object(s.jsxs)(C.b,{to:"/books/".concat(e.ISBN),children:[" ",Object(s.jsx)(A.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})]})},t)}))})})})]})}}]),a}(i.a.Component),R=a(44),z=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={booksshops:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBookshops().then((function(t){e.setState({booksshops:t.data})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:" Get to know all of our Bookshops "}),Object(s.jsx)(R.a,{className:"cards-from-allbookshops",children:this.state.booksshops.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsxs)(A.a,{style:{width:"15rem",height:"25rem"},children:[Object(s.jsx)(A.a.Img,{variant:"top",src:"../../images/shelf.jpeg"}),Object(s.jsxs)(A.a.Body,{style:{backgroundColor:"rgb(70, 69, 69)"},children:[Object(s.jsx)(A.a.Title,{children:Object(s.jsx)("h4",{style:{color:"white"},children:e.name})}),Object(s.jsx)(A.a.Text,{style:{color:"white"},children:e.about}),Object(s.jsx)("small",{className:"text-muted",children:Object(s.jsx)("strong",{style:{color:"white"},children:e.city})})]})]}),Object(s.jsx)(C.b,{to:"/allbookshops/".concat(e._id),children:Object(s.jsx)(O.a,{variant:"dark",style:{marginBottom:"40px",marginTop:"3px"},children:"View Book Shop"})})]},t)}))})]})}}]),a}(i.a.Component),W=function(){function e(){Object(r.a)(this,e);var t=p.a.create({baseURL:"".concat("https://lebookish.herokuapp.com","/api")});this.service=t}return Object(l.a)(e,[{key:"getBookByIsbn",value:function(e){return this.service.get("/books/".concat(e))}},{key:"getBookDetails",value:function(e){return this.service.get("/books/".concat(e,"/details"))}},{key:"addBook",value:function(e){return this.service.post("/books",e)}},{key:"deleteBook",value:function(e){return this.service.delete("/books/".concat(e))}},{key:"editBook",value:function(e){return this.service.put("/books/".concat(e.ISBN),e)}}]),e}(),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isbn:"",books:[]},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault(),(new W).getBookByIsbn(e.state.isbn).then((function(){e.props.history.push("/bookfound/".concat(e.state.isbn))})).catch((function(){Object(j.b)("Ups! Something went wrong")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new U).getAllBooks().then((function(t){console.log(t),e.setState({books:t.data})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("input",{className:"addbook-form",type:"text",name:"isbn",onChange:this.handleChange,value:this.state.isbn,placeholder:"Find a book by ISBN"}),Object(s.jsx)("br",{}),Object(s.jsxs)(O.a,{onClick:this.handleFormSubmit,className:"search-button-addbook",variant:"danger",children:[" ","Search"," "]})]}),Object(s.jsxs)(F.a,{className:"container-addbook",children:[Object(s.jsx)("h2",{children:"Latest in Bookish"}),Object(s.jsx)(T.a,{children:Object(s.jsx)("div",{className:"books-wrapper",children:this.state.books.slice(this.state.books.length-4,this.state.books.length).map((function(e,t){return Object(s.jsx)(A.a,{className:"allbooks",children:Object(s.jsxs)(C.b,{to:"/books/".concat(e.ISBN),children:[" ",Object(s.jsx)(A.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})]})})}))})})]})]})}}]),a}(i.a.Component),J=Object(b.f)(E),q=a(45),V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={book:[],price:"",isUsed:!1},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;"checkbox"===a.type&&(n=t.target.checked),e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault();var a=new U,s=e.state.book,n=s.title,i=s.author,o=s.description,c=s.published,r=s.publisher,l=s.language,h=s.image,d=s.isbn,b=e.state,u=b.price,p=b.isUsed;a.addBook({title:n,author:i,description:o,published:c,publisher:r,language:l,image:h,isUsed:p,isbn:d,price:u}).then((function(){e.props.history.push("/profile/".concat(e.props.loggedInUser._id)),Object(j.b)("Book Added!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(new W).getBookByIsbn(this.props.match.params.isbn).then((function(t){e.setState({book:t.data})}))}},{key:"render",value:function(){var e;return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(s.jsxs)("h1",{style:{marginBottom:"3rem",backgroundColor:"rgb(234,236,239)",padding:"20px",width:"100vw",height:"10rem",boxShadow:"5px 5px darkGray "},children:[" ",Object(s.jsx)("b",{children:" Is this the book?"})]}),Object(s.jsxs)(A.a,{bg:"secondary",text:"white",style:{width:"60vw"},children:[Object(s.jsxs)(A.a.Header,{style:{fontSize:"2rem",marginTop:"2rem",fontWeight:"bold"},children:[this.state.book.title," ",Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:this.state.book.image,alt:"book-cover",style:{marginTop:"2rem",objectFit:"fill !important",width:"30vw"}})]}),Object(s.jsxs)(A.a.Body,{children:[Object(s.jsx)(A.a.Text,{style:{textAlign:"justify"},dangerouslySetInnerHTML:{__html:this.state.book.description}}),Object(s.jsx)(A.a.Text,{children:Object(s.jsxs)(q.a,{style:{color:"black",marginTop:"10px",marginBottom:"30px"},children:[Object(s.jsxs)("footer",{children:["Published by ",this.state.book.publisher]}),Object(s.jsx)(A.a.Footer,{className:"text-muted",children:Object(s.jsxs)("p",{style:{color:"white"},children:["ISBN ",this.state.book.isbn]})})]})}),Object(s.jsxs)("form",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},onSubmit:this.handleFormSubmit,children:[Object(s.jsxs)(L.a.Group,{controlId:"formBasicRange",children:[Object(s.jsx)(L.a.Label,{children:"Price \u20ac"}),Object(s.jsx)(L.a.Check,(e={type:"range"},Object(y.a)(e,"type","number"),Object(y.a)(e,"name","price"),Object(y.a)(e,"onChange",this.handleChange),Object(y.a)(e,"value",this.state.price),Object(y.a)(e,"required",!0),e))]}),Object(s.jsx)(L.a.Group,{id:"formGridCheckbox",children:Object(s.jsx)(L.a.Check,{type:"checkbox",name:"isUsed",label:"Used",onChange:this.handleChange,value:this.state.isUsed})}),Object(s.jsx)(O.a,{onClick:this.handleFormSubmit,variant:"dark",style:{width:"30%",margin:"0 auto",display:"block"},children:"Add Book"})]})]})]}),Object(s.jsx)("br",{})]})}}]),a}(i.a.Component),Y=Object(b.f)(V),K=a(73),Q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={title:"",author:"",publisher:"",published:"",isbn:"",language:"",image:"",description:"",price:"",isUsed:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new W,a=this.props.match.params.isbn;t.getBookByIsbn(a).then((function(s){e.setState({title:s.data.title,author:s.data.author,publisher:s.data.publisher,published:s.data.published,isbn:s.data.isbn,language:s.data.language,image:s.data.image,description:s.data.description}),t.getBookDetails(a).then((function(t){var a=t.data[0];e.setState({price:a.price,isUsed:a.isUsed})}))}))}},{key:"render",value:function(){return this.state.price?Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1rem",backgroundColor:"rgb(234,236,239)",padding:"20px",width:"100vw",height:"13rem",boxShadow:"5px 5px darkGray ",justifyContent:"center"},children:[Object(s.jsx)("h1",{children:this.state.title}),Object(s.jsxs)("h5",{style:{marginBottom:"2rem",padding:"10px",width:"30vw"},children:["From ",this.state.author]})]}),Object(s.jsxs)(A.a,{bg:"secondary",text:"white",style:{width:"60vw"},children:[Object(s.jsx)(A.a.Header,{style:{fontSize:"2rem",marginTop:"1rem",fontWeight:"bold"},children:Object(s.jsx)("img",{src:this.state.image,alt:"book-cover",style:{marginTop:"2rem",objectFit:"fill !important",width:"30vw"}})}),Object(s.jsxs)(A.a.Body,{children:[Object(s.jsx)(A.a.Text,{style:{textAlign:"justify"},dangerouslySetInnerHTML:{__html:this.state.description}}),Object(s.jsx)(A.a.Text,{children:Object(s.jsxs)(q.a,{style:{color:"black",marginTop:"10px",marginBottom:"20px"},children:[Object(s.jsxs)("footer",{children:["Published by ",this.state.publisher]}),Object(s.jsx)(A.a.Footer,{className:"text-muted",children:Object(s.jsxs)("p",{style:{color:"white"},children:[" ISBN ",this.state.isbn]})})]})}),Object(s.jsx)("button",{class:"snipcart-add-item","data-item-id":this.state.isbn,"data-item-price":this.state.price,"data-item-url":"/books/".concat(this.state.isbn),"data-item-description":this.state.description,"data-item-image":this.state.image,"data-item-name":this.state.title,children:Object(s.jsxs)("p",{children:["Add to Cart",Object(s.jsx)("br",{}),this.state.price,"\u20ac"]})})]})]}),Object(s.jsx)("br",{})]}):Object(s.jsx)(K.a,{animation:"border",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})}}]),a}(i.a.Component),X=Object(b.f)(Q),Z=a(74),$=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={id:"",username:"",city:"",name:"",isCompany:!1,books:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getUser(a).then((function(t){console.log(t.data),e.setState({id:t.data._id,books:t.data.books,username:t.data.username,city:t.data.city,name:t.data.name,isCompany:t.data.isCompany})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(Z.a,{fluid:!0,className:"jumbotron-bookdetails",children:Object(s.jsxs)(F.a,{children:[Object(s.jsxs)("h1",{children:["Welcome to the bookshop ",this.state.name]}),Object(s.jsxs)("h5",{children:["Located in: ",this.state.city]}),Object(s.jsx)("h5",{children:" Heres a list of the available books"})]})}),Object(s.jsx)(F.a,{children:Object(s.jsx)(R.a,{style:{marginLeft:"3vw"},children:this.state.books.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)(A.a,{className:"allbooks",children:Object(s.jsx)(C.b,{to:"/books/".concat(e.ISBN),children:Object(s.jsx)(A.a.Img,{variant:"top",src:e.image,style:{height:"21rem"}})})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{bg:"dark",class:"snipcart-add-item","data-item-id":e.ISBN,"data-item-price":e.price,"data-item-url":"/books/".concat(e.ISBN),"data-item-description":e.description,"data-item-image":e.image,"data-item-name":e.title,style:{marginTop:"3px"},children:"Add to cart"})})]},t)}))})})]})}}]),a}(i.a.Component),ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={price:"",isUsed:"",title:"",image:"",isbn:""},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e.handleFormSubmit=function(t){t.preventDefault();var a=new U,s=e.state.price,n=e.props.match.params.id;a.editBook(n,s).then((function(){j.b.success("Price updated!"),e.props.history.push("/profile/".concat(e.props.loggedInUser._id))}))},e.handleBookDelete=function(t){(new U).deleteBook(t).then((function(){j.b.warning("Book Deleted"),e.props.history.push("./")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new U,a=this.props.match.params.id;t.getBookById(a).then((function(t){e.setState({title:t.data.title,isbn:t.data.isbn,image:t.data.image,price:t.data.price,isUsed:t.data.isUsed})}))}},{key:"render",value:function(){var e,t=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:" Edit your book"}),Object(s.jsxs)("div",{className:"edit-book-container",children:[Object(s.jsx)("div",{children:Object(s.jsx)(A.a,{style:{width:"20rem",height:"fit-content",maxHeight:"33rem",maxWidth:"22rem",boxShadow:"5px 5px #888888"},className:"allbooks",children:Object(s.jsx)(A.a.Img,{variant:"top",src:this.state.image,style:{height:"32.2rem",maxHeight:"32.2rem"}})})}),Object(s.jsxs)("div",{className:"form-edit-book",children:[Object(s.jsxs)(L.a,{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("h3",{children:" Edit price "}),Object(s.jsxs)(L.a.Group,{controlId:"formBasicRange",className:"edit-book-form",children:[Object(s.jsx)(L.a.Control,(e={type:"range",className:"price-box"},Object(y.a)(e,"type","number"),Object(y.a)(e,"name","price"),Object(y.a)(e,"onChange",this.handleChange),Object(y.a)(e,"value",this.state.price),e)),Object(s.jsx)(O.a,{onClick:this.handleFormSubmit,variant:"dark",style:{width:"18vw"},children:"Save"})]})]}),Object(s.jsx)(O.a,{style:{width:"18vw"},variant:"danger",onClick:function(){return t.handleBookDelete(t.props.match.params.id)},children:"Delete"})]})]})]})}}]),a}(i.a.Component),te=Object(b.f)(ee),ae=(a(106),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data._id)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(j.a,{}),Object(s.jsx)(v,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser}),Object(s.jsxs)(b.c,{children:[Object(s.jsx)(b.a,{exact:!0,path:"/",component:k}),Object(s.jsx)(b.a,{path:"/login",render:function(){return Object(s.jsx)(B,{setCurrentUser:e.setCurrentUser})}}),Object(s.jsx)(b.a,{exact:!0,path:"/signup",component:N}),Object(s.jsx)(b.a,{exact:!0,path:"/profile/:id",component:P}),Object(s.jsx)(b.a,{exact:!0,path:"/bookfeed",component:H}),Object(s.jsx)(b.a,{exact:!0,path:"/userfeed",component:z}),Object(s.jsx)(b.a,{exact:!0,path:"/addbook",component:J}),Object(s.jsx)(b.a,{exact:!0,path:"/books/:isbn",component:X}),Object(s.jsx)(b.a,{exact:!0,path:"/editbook/:id",component:te}),Object(s.jsx)(b.a,{exact:!0,path:"/bookfound/:isbn",render:function(){return Object(s.jsx)(Y,{loggedInUser:e.state.loggedInUser})}}),Object(s.jsx)(b.a,{exact:!0,path:"/allbookshops/:id",component:$}),Object(s.jsx)(b.a,{path:"/login-google",render:function(){window.location.href="".concat("https://lebookish.herokuapp.com","/api/auth/google")}})]})]})}}]),a}(i.a.Component)),se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),i(e),o(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(C.a,{children:Object(s.jsx)(ae,{})})}),document.getElementById("root")),se()},80:function(e,t,a){},81:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.3aa0ebe1.chunk.js.map